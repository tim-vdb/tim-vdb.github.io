import{my_projects,my_projects_actu,coding,design,CMS,learning_skills}from"./data_projects.js";gsap.registerPlugin(ScrollTrigger),document.addEventListener("DOMContentLoaded",(function(){const divLeft_nav=document.getElementById("divLeft_nav"),divLeft_filter=document.getElementById("divLeft_filter"),filter_cards=document.getElementById("filter_cards"),preview_cards=document.getElementById("preview_cards"),btnTop=document.getElementById("btnTop"),loader=document.getElementById("canvas"),tags_input=document.querySelectorAll(".input_filter_tags"),all_input=document.getElementById("input_filter_all"),container_links=document.querySelectorAll("li.container_links > div > .nav_links"),projectsFilter=document.querySelectorAll(".projectsFilter"),contentFilter=document.getElementById("contentFilter"),MenuBurger_enable=document.getElementById("MenuBurger_enable"),ol=document.querySelector("header nav ol"),texts_toAnim=document.querySelectorAll(".vague"),skills_cards=document.getElementById("skills_cards"),skills_sentences=(document.getElementById("learn_skills"),document.getElementById("skills_sentences")),closeMenu=document.querySelectorAll(".closeMenu");let displayAll=null,IsTagBlender=null,checked=new Set;if(window.onscroll=function(){!(document.body.scrollTop>20||document.documentElement.scrollTop>20)||"none"!==ol.style.display&&""!==ol.style.display?btnTop.style.opacity="0":btnTop.style.opacity="1"},!loader){document.body.style.overflow="auto";const observer_elements=new IntersectionObserver((entries=>{entries.forEach((entry=>{entry.isIntersecting&&entry.target.classList.add("show_aperçu")}))}),{threshold:.2});document.querySelectorAll(".animTranslateLeft, .animTranslateRight, .animTranslateBottom, .animTranslateTop").forEach((el=>observer_elements.observe(el)))}const Mustang3D=document.getElementById("mustang"),QuantixH3D=document.getElementById("quantixH3D"),Champis=document.getElementById("champis");if(Mustang3D){Mustang3D.style.display="block";const active_Mustang3D=document.getElementById("active_Mustang3D");active_Mustang3D.addEventListener("click",(function(){const mustangScript=document.createElement("script");mustangScript.src="JS/Mustang3D.js",mustangScript.type="module",document.body.appendChild(mustangScript),active_Mustang3D.remove()}))}if(QuantixH3D){QuantixH3D.style.display="block";const active_QuantixH3D=document.getElementById("active_QuantixH3D");active_QuantixH3D.addEventListener("click",(function(){const quantixScript=document.createElement("script");quantixScript.src="JS/QuantixH3D.js",quantixScript.type="module",document.body.appendChild(quantixScript),active_QuantixH3D.remove()}))}if(Champis){Champis.style.display="block";const active_Champis3D=document.getElementById("active_Champis3D");active_Champis3D.addEventListener("click",(function(){const champisScript=document.createElement("script");champisScript.src="JS/champis.js",champisScript.type="module",document.body.appendChild(champisScript),active_Champis3D.remove()}))}if(container_links.forEach((link=>{link.addEventListener("click",(function(e){e.preventDefault();let ul_links=this.closest("li.container_links").querySelector("ul"),icon=this.closest("div").querySelector("ion-icon:last-of-type");ul_links&&("none"===ul_links.style.display||""===ul_links.style.display?(ul_links.style.display="flex",this.matches("p")&&(this.style.color="var(--new_color_orange)",icon.style.color="var(--new_color_orange)"),icon.setAttribute("name","chevron-down-outline")):(ul_links.style.display="none",this.matches("p")&&(this.style.color="white",icon.style.color="white"),icon.setAttribute("name","chevron-forward-outline")))}))})),MenuBurger_enable.addEventListener("click",(function(){"none"!==contentFilter.style.display&&""!==contentFilter.style.display||"none"!==ol.style.display&&""!==ol.style.display?"none"!==ol.style.display&&""!==ol.style.display||"flex"!==contentFilter.style.display?(divLeft_nav.style.transform="translateX(-100%)",MenuBurger_enable.setAttribute("name","menu"),divLeft_nav.style.boxShadow="none",setTimeout((function(){ol.style.display="none"}),400),console.log("4")):(divLeft_filter.style.transform="translateX(-100%)",MenuBurger_enable.setAttribute("name","menu"),document.body.style.overflow="auto",setTimeout((function(){contentFilter.style.display="none"}),400),console.log("2")):(ol.style.display="flex",divLeft_nav.style.transform="translateX(0%)",MenuBurger_enable.setAttribute("name","close"),divLeft_nav.style.boxShadow="auto",console.log("1")),document.querySelectorAll("#filter_cards .cards").forEach((card=>{card.style.display="flex"})),btnTop.style.opacity="0"})),projectsFilter.forEach((project=>{project.addEventListener("click",(()=>{"none"!==contentFilter.style.display&&""!==contentFilter.style.display||(document.querySelectorAll("#filter_cards .cards").forEach((card=>{card.style.display="flex"})),divLeft_nav.style.transform="translateX(-100%)",btnTop.style.opacity="0",contentFilter.style.display="flex",document.body.style.overflow="hidden",MenuBurger_enable.setAttribute("name","close"),setTimeout((function(){ol.style.display="none",divLeft_filter.style.transform="translateX(0%)"}),400))}))})),closeMenu.forEach((element=>{element.addEventListener("click",(()=>{divLeft_nav.style.transform="translateX(-100%)",btnTop.style.opacity="0",MenuBurger_enable.setAttribute("name","menu"),setTimeout((function(){ol.style.display="none"}),400)}))})),btnTop.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})})),window.onbeforeunload=()=>{for(const form of document.getElementsByTagName("form"))form.reset()},texts_toAnim.forEach((textElement=>{const text=textElement.textContent.trim();textElement.innerHTML="";const fontSize=window.getComputedStyle(textElement).fontSize;text.split(/(\s+)/).forEach(((word,wordIndex)=>{if(""===word.trim())return void textElement.appendChild(document.createTextNode(" "));const wordSpan=document.createElement("span");wordSpan.className="antiwrap",word.split("").forEach(((letter,letterIndex)=>{const span=document.createElement("span");span.innerHTML=letter,span.style.animation="colorChange 5s ease-in-out infinite",span.style.animationDelay=.1*(wordIndex+letterIndex)+"s",span.style.fontSize=fontSize,wordSpan.appendChild(span)})),textElement.appendChild(wordSpan)})),setInterval((()=>{textElement.querySelectorAll(".antiwrap span").forEach(((span,index)=>{span.style.animationDelay=.1*index+"s"}))}),1e3)})),skills_cards){function skills_cardsFunction(tab_skills,skills_cards){tab_skills.forEach((tab_skill=>{let cards=document.createElement("li");cards.className="cards";let img_cards=document.createElement("img");img_cards.src=tab_skill.src,img_cards.alt=tab_skill.alt,cards.appendChild(img_cards);let skillName=tab_skill.skill,name=document.createElement("h4");switch(name.textContent=skillName,name.className="tags_cards",skillName){case"HTML":name.style.color="#E54C21";break;case"CSS":name.style.color="#1B73BA";break;case"Sass":name.style.color="#CD6799";break;case"JavaScript":name.style.color="#D4B830";break;case"PHP":name.style.color="#6C7AA8";break;case"MySQL":name.style.color="#00758F";break;case"Three.js":case"Markdown":name.style.color="black";break;case"Git":name.style.color="#E0672D";break;case"Node.js":name.style.color="#3F873F";break;case"Express.js":name.style.color="#323232";break;case"Python":name.style.color="#3774A8";break;case"Blender":name.style.color="#EB7700";break;case"WordPress":name.style.color="#21759B";break;case"React":name.style.color="#0999e8";break;case"GSAP":name.style.color="#1b9443"}cards.appendChild(name),skills_cards.appendChild(cards)}))}skills_cardsFunction(coding,skills_cards),skills_cardsFunction(design,skills_cards),skills_cardsFunction(CMS,skills_cards),skills_cardsFunction(learning_skills,learnSkills_cards)}if(gsap.fromTo("#skills_cards .cards",{opacity:0,y:50},{opacity:1,y:0,duration:.6,stagger:.2,ease:"power2.out",scrollTrigger:{trigger:"#skills_cards",start:"top 80%",end:"bottom 50%",scrub:!0,markers:!1,once:!0}}),gsap.fromTo("#learnSkills_cards .cards",{opacity:0,y:50},{opacity:1,y:0,duration:.6,stagger:.2,ease:"power2.out",scrollTrigger:{trigger:"#learnSkills_cards",start:"top 80%",end:"bottom 50%",scrub:!0,markers:!1,once:!0}}),skills_sentences){function skills_sentencesFunction(tab_skills,skills_sentences){tab_skills.forEach((tab_skill=>{let cards=document.createElement("li");cards.className="cards";let img_cards=document.createElement("img");img_cards.src=tab_skill.src,img_cards.alt=tab_skill.alt,cards.appendChild(img_cards);let skillName=tab_skill.skill,name=document.createElement("h4");switch(name.textContent=skillName,name.className="tags_cards",skillName){case"HTML":name.style.color="#E54C21";break;case"CSS":name.style.color="#1B73BA";break;case"Sass":name.style.color="#CD6799";break;case"JavaScript":name.style.color="#D4B830";break;case"PHP":name.style.color="#6C7AA8";break;case"MySQL":name.style.color="#00758F";break;case"Three.js":case"Markdown":name.style.color="black";break;case"Git":name.style.color="#E0672D";break;case"Node.js":name.style.color="#3F873F";break;case"Express.js":name.style.color="#323232";break;case"Python":name.style.color="#3774A8";break;case"Blender":name.style.color="#EB7700";break;case"WordPress":name.style.color="#21759B";break;case"React":name.style.color="#0999e8";break;case"GSAP":name.style.color="#1b9443"}cards.appendChild(name),skills_sentences.appendChild(cards)}))}skills_sentencesFunction(coding,skills_sentences),skills_sentencesFunction(design,skills_sentences),skills_sentencesFunction(CMS,skills_sentences),skills_sentencesFunction(learning_skills,learnSkills_sentences),gsap.set("#skills_sentences li > h4",{transformOrigin:"0 50%"}),gsap.set("#skills_sentences li:not(:first-of-type, :last-of-type) h4",{opacity:.2,scale:.8});const tl=gsap.timeline().to("#skills_sentences li:not(:first-of-type, :last-of-type) h4",{opacity:1,scale:1.5,stagger:.5}).to("#skills_sentences li:not(:last-of-type) h4",{opacity:1,scale:1,stagger:.5},0);ScrollTrigger.create({trigger:"#skills_sentences li:first-of-type",start:"center center",endTrigger:"#skills_sentences li:last-of-type",end:"+=700",pin:!1,markers:!1,animation:tl,scrub:!0,once:!0})}function create_cards(projects,filter_cards){projects.forEach((project=>{IsTagBlender=!1;let cards=document.createElement("div");cards.className="cards";let project_image=document.createElement("img");project_image.className="project_image",project_image.src=project.src,cards.appendChild(project_image);let content=document.createElement("div");content.className="content",cards.appendChild(content);let infosText=document.createElement("div");infosText.className="infosText",content.appendChild(infosText);let title_cards=document.createElement("h2");title_cards.textContent=project.title,title_cards.className="title",infosText.appendChild(title_cards);let description=document.createElement("p");description.textContent=project.description,description.className="description",infosText.appendChild(description);let infosCode=document.createElement("div");infosCode.className="infosCode",content.appendChild(infosCode);let techno=document.createElement("div");techno.className="techno",techno.textContent="Technologies utilisées : ",infosCode.appendChild(techno);let all_tags=document.createElement("div");if(all_tags.className="all_tags",techno.appendChild(all_tags),project.tags.forEach((tag=>{let tag_cards=document.createElement("p");switch(tag_cards.textContent=tag,tag_cards.className="tags_cards",tag){case"HTML":tag_cards.style.backgroundColor="#E54C21";break;case"CSS":tag_cards.style.backgroundColor="#254BDE";break;case"JS":tag_cards.style.backgroundColor="#EFD81D",tag_cards.style.color="#1c1c1c";break;case"PHP":tag_cards.style.backgroundColor="#6C7AA8";break;case"Markdown":tag_cards.style.backgroundColor="black";break;case"Blender":tag_cards.style.backgroundColor="#EB7700",IsTagBlender=!0;break;case"Design":tag_cards.style.backgroundColor="purple";break;case"Python":tag_cards.style.backgroundColor="green";break;case"In-Progress":tag_cards.style.backgroundColor="gray"}all_tags.appendChild(tag_cards)})),project.url){let divAccess=document.createElement("div");divAccess.className="divAccess",divAccess.textContent="Accès au projet : ",infosCode.appendChild(divAccess);let AccessContent=document.createElement("div");if(AccessContent.className="AccessContent",divAccess.appendChild(AccessContent),project.urlGitHub){let buttonGitHub=document.createElement("a");buttonGitHub.href=project.urlGitHub,buttonGitHub.target="_blank",buttonGitHub.className="buttonGitHub",AccessContent.appendChild(buttonGitHub);let github=document.createElement("ion-icon");github.setAttribute("name","logo-github"),buttonGitHub.appendChild(github);let textGithub=document.createElement("p");textGithub.textContent="GitHub Repository",buttonGitHub.appendChild(textGithub)}let link=document.createElement("a");link.href=project.url,link.target=IsTagBlender?"_self":"_blank",link.className="buttonAccess",AccessContent.appendChild(link);let iconLink=document.createElement("ion-icon");iconLink.setAttribute("name","open-outline"),link.appendChild(iconLink);let textLink=document.createElement("p");textLink.textContent=IsTagBlender?"Voir la page":"Site Web",link.appendChild(textLink)}filter_cards.appendChild(cards)})),tags_input.forEach((tag_input=>{tag_input.checked=!1,checked.add(tag_input.value),tag_input.addEventListener("change",(()=>{let custom_button=tag_input.closest(".custom-button");tag_input.checked?(custom_button.classList.add("active_input"),checked.delete(tag_input.value)):(custom_button.classList.remove("active_input"),checked.add(tag_input.value)),function(){const allUnchecked=Array.from(tags_input).every((tag_input=>!tag_input.checked));document.querySelectorAll("#filter_cards .cards").forEach((card=>{let shouldDisplay=Array.from(card.querySelectorAll(".tags_cards")).map((tag=>tag.textContent)).every((tag=>checked.has(tag)));allUnchecked?card.style.display="flex":displayAll&&10===checked.size?(document.querySelectorAll("#filter_cards .cards").forEach((card=>{card.style.display="flex"})),tags_input.forEach((tag_input=>{tag_input.closest(".custom-button").classList.remove("active_input"),tag_input.checked=!1,checked.add(tag_input.value)}))):card.style.display=shouldDisplay?"none":"flex"}))}(),displayAll=!0}))}))}create_cards(my_projects,filter_cards),preview_cards&&create_cards(my_projects_actu,preview_cards),gsap.set("#preview_cards .cards",{opacity:0}),gsap.fromTo("#preview_cards .cards",{opacity:0,y:50},{opacity:1,y:0,duration:.4,stagger:.5,ease:"power2.out",scrollTrigger:{trigger:"#preview_cards",start:"top 80%",end:"bottom 60%",scrub:!0,markers:!1,once:!0}}),all_input&&all_input.addEventListener("click",(()=>{document.querySelectorAll("#filter_cards .cards").forEach((card=>{card.style.display="flex"})),tags_input.forEach((tag_input=>{tag_input.closest(".custom-button").classList.remove("active_input"),tag_input.checked=!1,checked.add(tag_input.value)}))}))}));